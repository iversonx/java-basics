默认情况下，是以同步方式发送消息，其默认超时时间为3s。

当调用`DefaultMQProducer#send(msg)`发送消息时，最终是由`DefaultMQProducerImpl.sendDefaultImpl(msg)`来处理消息发送逻辑。

#### 1、验证消息

`DefaultMQProducerImpl.sendDefaultImpl(msg)`方法首先会对消息进行校验

- Topic名称和消息体不能为空

- Topic名称不能有正则表达式以外的特殊字符。正则表达式`"^[%|a-zA-Z0-9_-]+$"`

- Topic名称长度不能超过255

- Topic名称不能为默认Topic名称`TBW102`

- 消息长度不能超过允许发送消息的最大长度，默认为4M。

> 消息的最大长度如何配置?
> 
> 

#### 2、查找路由



#### 3、选择消息队列



#### 4、消息发送


